<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Products || Oniko Medical Trading</title>
    <link rel="stylesheet" href="style.css">
    <script src="app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <style>
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        /* Grid layout */
        .product-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px; 
            margin-bottom: 50px;
        }

        .product {
            display: grid;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #f9f9f9;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease;
        }

        .product:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .product p {
            font-weight: normal;
        }

        /* Cart Icon */
        .cart-icon {
            float: right;
            margin-right: 20px;
        }

        .cart-icon img {
            width: 30px;
            cursor: pointer;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        /* Button Styles */
        .btn {
            padding: 12px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="navbar">
            <div class="logo">
                <a href="./index.html"><img src="images/logo.png" width="80px"></a>
            </div>
            <nav>
                <ul id="MenuItems">
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./products.html">Products</a></li>
                    <li><a href="./contacts.html">Contact</a></li>
                </ul>
            </nav>
            <div class="cart-icon">
                <a href="order.html"><img src="images/cart.png" alt="Cart"></a>
            </div>
        </div>

        <h1>PRODUCTS AVAILABLE</h1>

        <!-- Gloves Section -->
        <h2>Gloves</h2>
        <div class="product-container">
            <div class="product" onclick="openModal('Crystal Gloves', 'images/crystalgloves.png', 500)">
                <img src="images/crystalgloves.png" width="200px" alt="Crystal Gloves">
                <h2>Crystal Gloves</h2>
                <p>Php500.00</p>
            </div>
            <div class="product" onclick="openModal('TBG Gloves', 'images/tbggloves.png', 480)">
                <img src="images/tbggloves.png" width="200px" alt="TBG Gloves">
                <h2>TBG Gloves</h2>
                <p>Php480.00</p>
            </div>
            <div class="product" onclick="openModal('WinCare Gloves', 'images/wincaregloves.png', 550)">
                <img src="images/wincaregloves.png" width="200px" alt="WinCare Gloves">
                <h2>WinCare Gloves</h2>
                <p>Php550.00</p>
            </div>
        </div>

        <!-- Thermometers Section -->
        <h2>Thermometers</h2>
        <div class="product-container">
            <div class="product" onclick="openModal('LB Thermometer', 'images/LBThermo.png', 950)">
                <img src="images/LBThermo.png" width="200px" alt="LB Thermometer">
                <h2>LB Thermometer</h2>
                <p>Php950.00</p>
            </div>
            <div class="product" onclick="openModal('MSC Thermometer', 'images/MSCThermo.png', 1000)">
                <img src="images/MSCThermo.png" width="200px" alt="MSC Thermometer">
                <h2>MSC Thermometer</h2>
                <p>Php1000.00</p>
            </div>
        </div>

        <!-- Masks Section -->
        <h2>Masks</h2>
        <div class="product-container">
            <div class="product" onclick="openModal('BYD Facemask', 'images/BYDFacemask.png', 200)">
                <img src="images/BYDFacemask.png" width="200px" alt="BYD Facemask">
                <h2>BYD Facemask</h2>
                <p>Php200.00</p>
            </div>
            <div class="product" onclick="openModal('INDOPLAS Facemask', 'images/INDOPLASFacemask.png', 220)">
                <img src="images/INDOPLASFacemask.png" width="200px" alt="INDOPLAS Facemask">
                <h2>INDOPLAS Facemask</h2>
                <p>Php220.00</p>
            </div>
            <div class="product" onclick="openModal('General Mask', 'images/mask.png', 180)">
                <img src="images/mask.png" width="200px" alt="General Mask">
                <h2>General Mask</h2>
                <p>Php180.00</p>
            </div>
        </div>

        <!-- Nebulizers -->
        <h2>Nebulizers</h2>
        <div class="product-container">
            <div class="product" onclick="openModal('Apex Nebulizer', 'images/ApexNebu.png', 1500)">
                <img src="images/ApexNebu.png" width="200px" alt="Apex Nebulizer">
                <h2>Apex Nebulizer</h2>
                <p>Php1500.00</p>
            </div>
            <div class="product" onclick="openModal('Elektra Nebulizer', 'images/ElektraNebu.png', 1600)">
                <img src="images/ElektraNebu.png" width="200px" alt="Elektra Nebulizer">
                <h2>Elektra Nebulizer</h2>
                <p>Php1600.00</p>
            </div>
        </div>

        <!-- Modal -->
        <div id="productModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <img id="modalImage" src="" alt="Product Image" width="200px">
                <h2 id="modalName"></h2>
                <p>Price: Php<span id="modalPrice"></span></p>
                <label for="modalQuantity">Quantity:</label>
                <input type="number" id="modalQuantity" value="1" min="1">
                <br><br>
                <button class="btn" onclick="addToCartFromModal()">Add to Cart</button>
            </div>
        </div>
    </div>

    <script>
        // Function to add to cart from modal
        function addToCartFromModal() {
            const name = document.getElementById('modalName').textContent;
            const image = document.getElementById('modalImage').src;
            const price = parseFloat(document.getElementById('modalPrice').textContent);
            const quantity = parseInt(document.getElementById('modalQuantity').value);

            // Retrieve cart from localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Find if the product already exists in the cart by comparing both name and price
            const existingProduct = cart.find(item => item.name === name && item.price === price);

            if (existingProduct) {
                // If the product exists, update its quantity
                existingProduct.quantity += quantity;
            } else {
                // If the product doesn't exist, add a new product
                const product = { name, price, image, quantity };
                cart.push(product);
            }

            // Save updated cart back to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            alert('Added to cart!');
            closeModal();
        }

        // Function to open the modal
        function openModal(name, image, price) {
            document.getElementById('modalName').textContent = name;
            document.getElementById('modalImage').src = image;
            document.getElementById('modalPrice').textContent = price.toFixed(2);
            document.getElementById('modalQuantity').value = 1; // Reset quantity to 1
            document.getElementById('productModal').style.display = 'block';
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('productModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('productModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>
